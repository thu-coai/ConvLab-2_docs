

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>convlab2.dst.mdbt package &mdash; ConvLab-2 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> ConvLab-2
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">convlab2.dst.mdbt package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-convlab2.dst.mdbt.mdbt">convlab2.dst.mdbt.mdbt module</a></li>
<li><a class="reference internal" href="#module-convlab2.dst.mdbt.mdbt_util">convlab2.dst.mdbt.mdbt_util module</a></li>
<li><a class="reference internal" href="#module-convlab2.dst.mdbt">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ConvLab-2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>convlab2.dst.mdbt package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/convlab2.dst.mdbt.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="convlab2-dst-mdbt-package">
<h1>convlab2.dst.mdbt package<a class="headerlink" href="#convlab2-dst-mdbt-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="convlab2.dst.mdbt.multiwoz.html">convlab2.dst.mdbt.multiwoz package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="convlab2.dst.mdbt.multiwoz.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="convlab2.dst.mdbt.multiwoz.html#module-convlab2.dst.mdbt.multiwoz.dst">convlab2.dst.mdbt.multiwoz.dst module</a></li>
<li class="toctree-l2"><a class="reference internal" href="convlab2.dst.mdbt.multiwoz.html#module-convlab2.dst.mdbt.multiwoz">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-convlab2.dst.mdbt.mdbt">
<span id="convlab2-dst-mdbt-mdbt-module"></span><h2>convlab2.dst.mdbt.mdbt module<a class="headerlink" href="#module-convlab2.dst.mdbt.mdbt" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="convlab2.dst.mdbt.mdbt.MDBT">
<em class="property">class </em><code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt.</code><code class="sig-name descname">MDBT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ontology_vectors</span></em>, <em class="sig-param"><span class="n">ontology</span></em>, <em class="sig-param"><span class="n">slots</span></em>, <em class="sig-param"><span class="n">data_dir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt.MDBT" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="convlab2.dst.html#convlab2.dst.dst.DST" title="convlab2.dst.dst.DST"><code class="xref py py-class docutils literal notranslate"><span class="pre">convlab2.dst.dst.DST</span></code></a></p>
<p>A multi-domain belief tracker, adopted from <a class="reference external" href="https://github.com/osmanio2/multi-domain-belief-tracking">https://github.com/osmanio2/multi-domain-belief-tracking</a>.</p>
<dl class="py method">
<dt id="convlab2.dst.mdbt.mdbt.MDBT.detect_requestable_slots">
<code class="sig-name descname">detect_requestable_slots</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">observation</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt.MDBT.detect_requestable_slots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="convlab2.dst.mdbt.mdbt.MDBT.init_session">
<code class="sig-name descname">init_session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt.MDBT.init_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Init the class variables for a new session.</p>
</dd></dl>

<dl class="py method">
<dt id="convlab2.dst.mdbt.mdbt.MDBT.normalize_history">
<code class="sig-name descname">normalize_history</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">history</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt.MDBT.normalize_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace zero-length history.</p>
</dd></dl>

<dl class="py method">
<dt id="convlab2.dst.mdbt.mdbt.MDBT.restore">
<code class="sig-name descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt.MDBT.restore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="convlab2.dst.mdbt.mdbt.MDBT.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user_act</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt.MDBT.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the dialog state.</p>
</dd></dl>

<dl class="py method">
<dt id="convlab2.dst.mdbt.mdbt.MDBT.update_batch">
<code class="sig-name descname">update_batch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">batch_action</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt.MDBT.update_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-convlab2.dst.mdbt.mdbt_util">
<span id="convlab2-dst-mdbt-mdbt-util-module"></span><h2>convlab2.dst.mdbt.mdbt_util module<a class="headerlink" href="#module-convlab2.dst.mdbt.mdbt_util" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="convlab2.dst.mdbt.mdbt_util.GRU">
<em class="property">class </em><code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">GRU</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">W_h</span></em>, <em class="sig-param"><span class="n">U_h</span></em>, <em class="sig-param"><span class="n">M_h</span></em>, <em class="sig-param"><span class="n">W_m</span></em>, <em class="sig-param"><span class="n">U_m</span></em>, <em class="sig-param"><span class="n">label_size</span></em>, <em class="sig-param"><span class="n">reuse</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">binary_output</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.GRU" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tensorflow.python.ops.rnn_cell_impl.RNNCell</span></code></p>
<p>Create a Gated Recurrent unit to unroll the network through time
for combining the current and previous belief states</p>
<dl class="py method">
<dt id="convlab2.dst.mdbt.mdbt_util.GRU.output_size">
<em class="property">property </em><code class="sig-name descname">output_size</code><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.GRU.output_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer or TensorShape: size of outputs produced by this cell.</p>
</dd></dl>

<dl class="py method">
<dt id="convlab2.dst.mdbt.mdbt_util.GRU.state_size">
<em class="property">property </em><code class="sig-name descname">state_size</code><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.GRU.state_size" title="Permalink to this definition">¶</a></dt>
<dd><p>size(s) of state(s) used by this cell.</p>
<p>It can be represented by an Integer, a TensorShape or a tuple of Integers
or TensorShapes.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.define_CNN_model">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">define_CNN_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">utter</span></em>, <em class="sig-param"><span class="n">num_filters</span><span class="o">=</span><span class="default_value">300</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'r'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.define_CNN_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Better code for defining the CNN model.</p>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.evaluate_model">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">evaluate_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sess</span></em>, <em class="sig-param"><span class="n">model_variables</span></em>, <em class="sig-param"><span class="n">val_data</span></em>, <em class="sig-param"><span class="n">summary</span></em>, <em class="sig-param"><span class="n">batch_id</span></em>, <em class="sig-param"><span class="n">i</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.evaluate_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the model against validation set</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sess</strong> – training session</p></li>
<li><p><strong>model_variables</strong> – all model input variables</p></li>
<li><p><strong>val_data</strong> – validation data</p></li>
<li><p><strong>summary</strong> – For tensorboard</p></li>
<li><p><strong>batch_id</strong> – where we are in the training data</p></li>
<li><p><strong>i</strong> – the index of the validation data to load</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>evaluation accuracy and the summary</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.generate_batch">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">generate_batch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dialogues</span></em>, <em class="sig-param"><span class="n">batch_no</span></em>, <em class="sig-param"><span class="n">batch_size</span></em>, <em class="sig-param"><span class="n">ontology_size</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.generate_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate examples for minibatch training</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dialogues</strong> – list(num of turns, user_input vectors, system_response vectors, labels)</p></li>
<li><p><strong>batch_no</strong> – where we are in the training data</p></li>
<li><p><strong>batch_size</strong> – number of dialogues to generate</p></li>
<li><p><strong>ontology_size</strong> – no_slots</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list(user_input, system_response, labels, user_sentence_length, system_sentence_length, number of turns)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.get_available_devs">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">get_available_devs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.get_available_devs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.get_metrics">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">get_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">predictions</span></em>, <em class="sig-param"><span class="n">true_predictions</span></em>, <em class="sig-param"><span class="n">no_turns</span></em>, <em class="sig-param"><span class="n">mask</span></em>, <em class="sig-param"><span class="n">num_slots</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.get_metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.load_ontology">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">load_ontology</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">word_vectors</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.load_ontology" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the ontology from a file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – to the ontology</p></li>
<li><p><strong>word_vectors</strong> – dictionary of the word embeddings [words, vector_dimension]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list([domain-slot-value]), [no_slots, vector_dimension]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.load_word_vectors">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">load_word_vectors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.load_word_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the word embeddings from the url</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> – to the word vectors</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of word and vector values</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.load_woz_data">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">load_woz_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">word_vectors</span></em>, <em class="sig-param"><span class="n">ontology</span></em>, <em class="sig-param"><span class="n">url</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.load_woz_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the woz3 data and extract feature vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – the data to load</p></li>
<li><p><strong>word_vectors</strong> – word embeddings</p></li>
<li><p><strong>ontology</strong> – list of domain-slot-value</p></li>
<li><p><strong>url</strong> – Is the data coming from a url, default true</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list(num of turns, user_input vectors, system_response vectors, labels)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.load_woz_data_new">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">load_woz_data_new</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">word_vectors</span></em>, <em class="sig-param"><span class="n">ontology</span></em>, <em class="sig-param"><span class="n">url</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.load_woz_data_new" title="Permalink to this definition">¶</a></dt>
<dd><p>Ported from load_woz_data, using convlab2.util.dataloader pkg</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – the data to load</p></li>
<li><p><strong>word_vectors</strong> – word embeddings</p></li>
<li><p><strong>ontology</strong> – list of domain-slot-value</p></li>
<li><p><strong>url</strong> – Is the data coming from a url, default true</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list(num of turns, user_input vectors, system_response vectors, labels)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.lstm_model">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">lstm_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text_input</span></em>, <em class="sig-param"><span class="n">utterance_length</span></em>, <em class="sig-param"><span class="n">num_hidden</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">net_type</span></em>, <em class="sig-param"><span class="n">bidir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.lstm_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Define an Lstm model that will run across the user input and system act</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text_input</strong> – [batch_size, max_num_turns, max_utterance_size, vector_dimension]</p></li>
<li><p><strong>utterance_length</strong> – number words in every utterance [batch_size, max_num_turns, 1]</p></li>
<li><p><strong>num_hidden</strong> – – int –</p></li>
<li><p><strong>name</strong> – The name of lstm network</p></li>
<li><p><strong>net_type</strong> – type of the network (“lstm” or “gru” or “rnn”)</p></li>
<li><p><strong>bidir</strong> – use a bidirectional network – bool –</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>output at each state [batch_size, max_num_turns, max_utterance_size, num_hidden],
output of the final state [batch_size, max_num_turns, num_hidden]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.model_definition">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">model_definition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ontology</span></em>, <em class="sig-param"><span class="n">num_slots</span></em>, <em class="sig-param"><span class="n">slots</span></em>, <em class="sig-param"><span class="n">num_hidden</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">net_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bidir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">test</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dev</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.model_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Create neural belief tracker model that is defined in my notes. It consists of encoding the user and system     input, then use the ontology to decode the encoder in manner that detects if a domain-slot-value class is mentioned</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ontology</strong> – numpy array of the embedded vectors of the ontology [num_slots, 3*vector_dimension]</p></li>
<li><p><strong>num_slots</strong> – number of ontology classes –int–</p></li>
<li><p><strong>slots</strong> – indices of the values of each slot list of lists of ints</p></li>
<li><p><strong>num_hidden</strong> – Number of hidden units or dimension of the hidden space</p></li>
<li><p><strong>net_type</strong> – The type of the encoder network cnn, lstm, gru, rnn …etc</p></li>
<li><p><strong>bidir</strong> – For recurrent networks should it be bidirectional</p></li>
<li><p><strong>test</strong> – This is testing mode (no back-propagation)</p></li>
<li><p><strong>dev</strong> – Device to run the model on (cpu or gpu)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>All input variable/placeholders output metrics (precision, recall, f1-score) and trainer</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.normalise_word_vectors">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">normalise_word_vectors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">word_vectors</span></em>, <em class="sig-param"><span class="n">norm</span><span class="o">=</span><span class="default_value">1.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.normalise_word_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>This method normalises the collection of word vectors provided in the word_vectors dictionary.</p>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.process_booking">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">process_booking</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ontolog_term</span></em>, <em class="sig-param"><span class="n">usr_input</span></em>, <em class="sig-param"><span class="n">previous_terms</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.process_booking" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.process_history">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">process_history</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessions</span></em>, <em class="sig-param"><span class="n">word_vectors</span></em>, <em class="sig-param"><span class="n">ontology</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.process_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the woz3 data and extract feature vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – the data to load</p></li>
<li><p><strong>word_vectors</strong> – word embeddings</p></li>
<li><p><strong>ontology</strong> – list of domain-slot-value</p></li>
<li><p><strong>url</strong> – Is the data coming from a url, default true</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list(num of turns, user_input vectors, system_response vectors, labels)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.process_text">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">process_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">word_vectors</span></em>, <em class="sig-param"><span class="n">ontology</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">print_mode</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.process_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a line/sentence converting words to feature vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – sentence</p></li>
<li><p><strong>word_vectors</strong> – word embeddings</p></li>
<li><p><strong>ontology</strong> – The ontology to do exact matching</p></li>
<li><p><strong>print_mode</strong> – Log the cases where the word is not in the pre-trained word vectors</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[length of sentence, 300]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.process_turn">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">process_turn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">turn</span></em>, <em class="sig-param"><span class="n">word_vectors</span></em>, <em class="sig-param"><span class="n">ontology</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.process_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a single turn extracting and processing user text, system response and labels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>turn</strong> – dict</p></li>
<li><p><strong>word_vectors</strong> – word embeddings</p></li>
<li><p><strong>ontology</strong> – list(domain-slot-value)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>([utterance length, 300], [utterance length, 300], [no_slots])</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.track_dialogue">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">track_dialogue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">ontology</span></em>, <em class="sig-param"><span class="n">predictions</span></em>, <em class="sig-param"><span class="n">y</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.track_dialogue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="convlab2.dst.mdbt.mdbt_util.xavier_vector">
<code class="sig-prename descclassname">convlab2.dst.mdbt.mdbt_util.</code><code class="sig-name descname">xavier_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">word</span></em>, <em class="sig-param"><span class="n">D</span><span class="o">=</span><span class="default_value">300</span></em><span class="sig-paren">)</span><a class="headerlink" href="#convlab2.dst.mdbt.mdbt_util.xavier_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a D-dimensional vector for the word.</p>
<p>We hash the word to always get the same vector for the given word.</p>
</dd></dl>

</div>
<div class="section" id="module-convlab2.dst.mdbt">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-convlab2.dst.mdbt" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, thu-coai

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>